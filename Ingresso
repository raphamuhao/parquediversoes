using System;
using System.IO;
using System.Text;
class Ingresso{
  private  int tipo = 0;

  //construtor objeto
  public Ingresso(int tip){
   tipo = tip;
   
  }
  // método de cadastro Ingressos vendidos 
  public static void cadastrarIngresso(){
    Console.WriteLine(" Número do cadastro:{0}",numeroIngresso()+1);
    Console.WriteLine(" Tipos de ingresso disponíveis:");
    Console.WriteLine(" 1- Premium");
    Console.WriteLine(" 2- Basico");
    Console.WriteLine(" Informe os seguintes dados: Número de intentificação do tipo do ingresso,Nome,Cpf,Altura,Idade");
    Console.WriteLine(" Sem letras maiúsculas nas inicias, espaço entre nome e sobrenomes e sem caracteres especiais tipo ! *  e Ç" );
    Console.WriteLine(" Exemplo:1,eltonjohn,12189658608,168,18");
    string dados = Console.ReadLine();
    FileStream arq = new FileStream("Ingresso.text",FileMode.Append,FileAccess.Write); //ESCREVER NO ARQUIVO
    StreamWriter informaçoesbasicas= new StreamWriter(arq, Encoding.UTF7);    
    string infobasic = dados;
    informaçoesbasicas.WriteLine(infobasic);
    informaçoesbasicas.Close();
    arq.Close(); 
    Console.WriteLine ( " Compra realizada. ");
    Console.WriteLine ( infobasic);
    System.Threading.Thread.Sleep(TimeSpan.FromSeconds(3)); 

  }
  //NÚMERO INGRESSO
  public static int numeroIngresso(){
    int i = 0;
    FileStream  leiturArqIngresso= new FileStream("Ingresso.text",FileMode.Open,FileAccess.Read);
    StreamReader infoBasic =new StreamReader(leiturArqIngresso,Encoding.UTF8);
 
    while(!infoBasic.EndOfStream){
      infoBasic.ReadLine();
      i++;
    } 
    infoBasic.Close();
    leiturArqIngresso.Close();
    return i;
  } 
  //CONSULTAR INGRESSO
  public static void consultarIngresso(int numeroIngresso){
    int nIngresso = numeroIngresso;
    int cont = 1;
    string dados=null;

    FileStream  leiturArqIngresso= new FileStream("Ingresso.text",FileMode.Open,FileAccess.Read);
    StreamReader infoBasic =new StreamReader(leiturArqIngresso,Encoding.UTF8);   
    while(!infoBasic.EndOfStream){
      dados = infoBasic.ReadLine();
      if(cont == nIngresso){
        Console.WriteLine(dados);
      }
    }
    if(nIngresso > cont){
      Console.WriteLine(" Número do ingresso informado está errado. Id maior do que a quantidade vendida");
      System.Threading.Thread.Sleep(TimeSpan.FromSeconds(3));
    } 
    infoBasic.Close();
    leiturArqIngresso.Close();
    
  }
}
